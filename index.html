<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="format-detection" content="telephone=no">
    <title>Soccer Tips</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #181818 0%, #2c003e 100%); color: #f1f1f1; margin: 0; padding: 0; min-height: 100vh; }
        .footer { text-align: center; margin-top: 32px; padding: 16px; background: rgba(32, 0, 64, 0.6); border-top-left-radius: 24px; border-top-right-radius: 24px; color: #a0a0a0; }
        #passwordPrompt { display: flex; align-items: center; justify-content: center; height: 100vh; background: linear-gradient(115deg, #1a0036 0%, #000 100%); }
        .hidden { display: none; }
        .input-container { text-align: center; padding: 32px 24px 30px 24px; border-radius: 16px; background: rgba(34, 34, 40, 0.95); box-shadow: 0 8px 32px rgba(0,0,0,0.4); }
        .input-container h2 { margin-bottom: 10px; color: #ffb347; text-shadow: 0 1px 8px #7200b3bb; }
        .input-container h3 { margin-bottom: 20px; color: #a0a0a0; }
        .pin-input { display: inline-block; width: 220px; position: relative; }
        .pin-input input { width: 100%; height: 50px; font-size: 26px; text-align: center; letter-spacing: 15px; border: 2px solid #ffb347; border-radius: 8px; outline: none; padding: 0 15px; box-sizing: border-box; background-color: #181818; color: #fff; transition: border-color 0.3s, box-shadow 0.3s; box-shadow: 0 2px 8px #4f00bc22; }
        .pin-input input:focus { border-color: #7200b3; box-shadow: 0 4px 12px #4f00bc44; }
        .pin-input input::placeholder { color: #777; }
        .submit-button, .toggle-button { padding: 12px 28px; font-size: 20px; margin-top: 26px; background: linear-gradient(90deg, #ffb347 0%, #4f00bc 100%); color: white; border: none; border-radius: 8px; cursor: pointer; box-shadow: 0 2px 8px #4f00bc44; font-weight: bold; letter-spacing: 1px; transition: background 0.2s, box-shadow 0.2s; display: inline-block; }
        .submit-button:hover, .toggle-button:hover { background: linear-gradient(90deg, #4f00bc 0%, #ffb347 100%); box-shadow: 0 4px 16px #ffb34744; }
        .logo { max-width: 84px; margin-bottom: 20px; border-radius: 16px; box-shadow: 0 4px 24px #4f00bc55; }
        .profile-card { background: linear-gradient(135deg, #1e003a 0%, #007bff 90%); padding: 34px 26px 26px 26px; margin: 32px auto 16px auto; border-radius: 24px; box-shadow: 0 8px 40px rgba(0,0,0,0.35), 0 2px 6px #4f00bc44; max-width: 370px; display: flex; flex-direction: column; align-items: center; position: relative; color: #fff; overflow: hidden; }
        .profile-avatar { width: 88px; height: 88px; border-radius: 50%; object-fit: cover; border: 4px solid #ffb347; margin-bottom: 18px; box-shadow: 0 0 24px #ffb34799, 0 6px 24px #4f00bc44; background: #fff; }
        .profile-card h2 { margin: 0 0 10px 0; color: #ffb347; font-size: 2em; letter-spacing: 2px; text-shadow: 0 1px 10px #7200b3bb; }
        .profile-details { width: 100%; text-align: left; margin-top: 10px; }
        .profile-details p { margin: 9px 0; font-size: 1.15em; }
        .profile-label { font-weight: bold; color: #ffd700; }
        .profile-value { color: #fff; margin-left: 8px; }
        .expired-label { color: #ff4d4d; background: #2b0518; padding: 7px 14px; margin: 15px 0 0 0; border-radius: 14px; font-weight: bold; font-size: 17px; text-align: center; }
        .note-below-profile { text-align: center; margin-top: 18px; margin-bottom: 2px; font-size: 17px; color: #ffb347; }
        .toggle-button { margin-top: 10px; margin-bottom: 10px; }
        .odds-section { background: rgba(24, 20, 40, 0.92); border-radius: 12px; box-shadow: 0 2px 18px #0006; margin: 20px auto 0 auto; padding: 18px 20px 14px 20px; max-width: 380px; color: #fff; text-align: center; }
        .odds-section .note { color: #ffb347; font-size: 1.1em; font-weight: bold; margin-bottom: 8px; display: block; }
        .odds-section .odds-list { margin: 12px 0 0 0; font-size: 1.16em; color: #a0ffa0; }
        .odds-section .odds-total { color: #ffd700; font-size: 1.2em; margin: 6px 0 0 0; font-weight: bold; }
        .odds-section .odds-progress { margin-top: 10px; color: #bbb; font-size: 1em; }
        .odds-section .odds-expiry { margin-top: 10px; color: #ffb347; font-size: 0.98em; }
        .warning-label { color: #f6b800; background: #2b2b05; padding: 7px 14px; margin: 10px 0 0 0; border-radius: 14px; font-weight: bold; font-size: 17px; text-align: center; display: block; }
        #bookingCodeModal { display: none; position: fixed; z-index: 2100; left: 0; top: 0; width: 100vw; height: 100vh; background: rgba(0,0,0,0.5); justify-content: center; align-items: center; }
        #bookingCodeModal .popup-content.new-layout { background: #fff; color: #222; padding: 42px 26px 34px 26px; border-radius: 18px; box-shadow: 0 2px 38px #4f00bc44; min-width: 320px; max-width: 94vw; text-align: center; position: relative; display: flex; flex-direction: column; align-items: stretch; }
        #bookingCodeModal .close-booking-modal { position: absolute; top: 15px; right: 20px; font-size: 30px; color: #888; cursor: pointer; font-weight: bold; }
        #bookingCodeModal .bc-header { display: flex; align-items: center; gap: 20px; margin-bottom: 18px; text-align: left; }
        #bookingCodeModal .bc-header .bc-icon { width: 54px; height: 54px; flex-shrink: 0; }
        #bookingCodeModal h2 { color: #4f00bc; margin: 0 0 2px 0; font-size: 1.55em; font-weight: 700; }
        #bookingCodeModal .bc-note { color: #7b47a1; font-size: 1.02em; margin-top: 3px; font-weight: 500; }
        #bookingCodeModal .bc-odd-row { display: flex; justify-content: center; align-items: center; margin: 16px 0 10px 0; font-size: 1.18em; font-weight: 500; }
        #bookingCodeModal .bc-odd-label { color: #444; margin-right: 8px; }
        #bookingCodeModal .bc-odd-value { color: #ffb347; background: #f6f3fd; border-radius: 7px; padding: 2px 14px; font-size: 1.18em; letter-spacing: 1px; box-shadow: 0 0 2px #4f00bc33; }
        #bookingCodeModal .bc-code-row { display: flex; align-items: center; justify-content: center; margin-top: 8px; gap: 8px; }
        #bookingCodeModal .booking-code-input { font-size: 1.22em; padding: 9px 16px; border-radius: 9px; border: 1px solid #ddd; width: 148px; text-align: center; background: #f6f6fa; color: #333; font-weight: 600; letter-spacing: 1px; }
        #bookingCodeModal .copy-booking-btn { background: #f6f3fd; border: none; margin-left: 0; border-radius: 7px; box-shadow: 0 0 2px #4f00bc22; cursor: pointer; padding: 7px 10px 5px 10px; transition: background 0.15s; outline: none; display: flex; align-items: center; }
        #bookingCodeModal .copy-booking-btn:hover { background: #f9e7c7; }
        #bookingCodeModal .copy-booking-btn img { width: 26px; height: 26px; }
        #bookingCodeModal .bc-copied-note { color: #19b66e; margin-top: 13px; display: none; font-size: 1.08em; font-weight: 500; }
        #bookingCodeModal .sportybet-notice { margin-top: 18px; font-weight: bold; font-size: 1.08em; letter-spacing: 0.2px; }
        #bookingCodeModal .sportybet-notice a { color: #4f00bc; text-decoration: underline; }
        @media (max-width: 600px) {
            #bookingCodeModal .popup-content.new-layout { min-width: 0; width: 96vw; padding: 22px 2vw 18px 2vw; }
            #bookingCodeModal .bc-header .bc-icon { width: 38px; height: 38px; }
            #bookingCodeModal h2 { font-size: 1.07em; }
            #bookingCodeModal .bc-odd-row { font-size: 0.98em; }
        }
    </style>
    <script>
        // --- Manually set the booking code and total odd here ---
        const BOOKING_CODE = "empirebot_30jun2025";
        const BOOKING_CODE_TOTAL_ODD = "1.70";

        const users = [
            { username: 'user1', pin: '1108', plan: 'Daily', expiryDate: new Date('2025-05-14'), img: 'user1.jpg', odds: [1.30, 1.20, 1.56] },
            { username: 'user1', pin: '0276', plan: 'Weekly', expiryDate: new Date('2025-05-14'), img: 'user2.jpg', odds: [2.00, 1.40, 2.50, 1.80] },
            { username: 'user2', pin: '1777', plan: 'Daily', expiryDate: new Date('2025-05-14'), img: 'user3.jpg', odds: [1.90, 1.60, 2.30, 1.80, 2.00] },
            { username: 'user2', pin: '3572', plan: 'Monthly', expiryDate: new Date('2025-06-03'), img: 'AddText_05-30-08.18.22.png', odds: [2.00, 1.50, 2.30, 1.80, 2.20] },
            { username: 'user3', pin: '1776', plan: 'Daily', expiryDate: new Date('2025-06-25'), img: 'user5.jpg', odds: [1.90, 1.60, 2.30,] }
        ];
        const planExpectedOdds = {
            'Daily': 14.00,
            'Weekly': 25.00,
            'Monthly': 50.00
        };
        const planHideOdds = {
            'Daily': 18.00,
            'Weekly': 29.00,
            'Monthly': 56.00
        };
        let currentUser = null;
        let isExpired = false;
        let isOddExpired = false;

        function unlockSite() {
            const passwordInput = document.getElementById('passwordInput').value.replace(/\s+/g, '');
            const today = new Date();
            const user = users.find(user => user.pin === passwordInput);
            if (!user) {
                alert('Incorrect PIN! Please try again.');
                return;
            }
            currentUser = user;
            showProfileCard(user, today);
            document.getElementById('passwordPrompt').style.display = 'none';
            document.getElementById('profileCardSection').style.display = 'block';
            document.getElementById('fixturesSection').style.display = 'none';
        }

        function showProfileCard(user, today) {
            document.getElementById('profileUserId').textContent = user.pin;
            document.getElementById('profilePlan').textContent = user.plan;
            const avatar = document.getElementById('profileAvatar');
            if (user.img && user.img.trim() !== "") {
                avatar.src = user.img;
            } else {
                avatar.src = "-5890865169557472356_109.jpg";
            }
            const odds = user.odds || [];
            const plan = user.plan;
            const expectedOdd = planExpectedOdds[plan] || 0;
            const hideOdd = planHideOdds[plan] || 0;
            let totalOdd = 1;
            if (odds.length > 0) {
                totalOdd = odds.reduce((acc, odd) => acc * odd, 1);
            }
            isExpired = false;
            isOddExpired = false;
            let showWarning = false;
            if (totalOdd >= expectedOdd && totalOdd < hideOdd) {
                showWarning = true;
            }
            if (totalOdd >= hideOdd) {
                isOddExpired = true;
            }
            const expiredMsg = document.getElementById('expiredProfileMsg');
            const noteBelowProfile = document.getElementById('noteBelowProfile');
            const viewPredictionBtn = document.getElementById('viewPredictionBtn');
            const warningMsg = document.getElementById('oddWarningMsg');
            if (isOddExpired) {
                expiredMsg.style.display = 'block';
                noteBelowProfile.style.display = 'none';
                viewPredictionBtn.style.display = 'none';
                document.getElementById('oddsSection').style.display = 'none';
                warningMsg.style.display = 'none';
            } else if (showWarning) {
                expiredMsg.style.display = 'none';
                noteBelowProfile.style.display = 'block';
                viewPredictionBtn.style.display = 'inline-block';
                document.getElementById('oddsSection').style.display = 'block';
                warningMsg.style.display = 'block';
                warningMsg.textContent = `You have reached the expected odd (${expectedOdd.toFixed(2)}). Your Subscription will expire soon!`;
            } else {
                expiredMsg.style.display = 'none';
                noteBelowProfile.style.display = 'block';
                viewPredictionBtn.style.display = 'inline-block';
                document.getElementById('oddsSection').style.display = 'block';
                warningMsg.style.display = 'none';
            }
            renderOddsSection(user);
        }

        function renderOddsSection(user) {
            const odds = user.odds || [];
            const plan = user.plan;
            const expectedOdd = planExpectedOdds[plan] || 0;
            let total = 1;
            let left = expectedOdd;
            if (odds.length > 0) {
                total = odds.reduce((acc, odd) => acc * odd, 1);
                left = (expectedOdd - total) > 0 ? (expectedOdd - total) : 0;
            }
            const oddsStr = odds.map(o => o.toFixed(2)).join(" × ");
            document.getElementById('oddsSection').style.display = isOddExpired ? 'none' : 'block';
            document.getElementById('oddsNote').innerHTML = `Expected Odd for <b>${plan}</b> plan: <span style="color:#ffd700;">${expectedOdd.toFixed(2)}</span>`;
            document.getElementById('oddsList').textContent = oddsStr ? `Current Odds: ${oddsStr}` : "No odds yet";
            document.getElementById('oddsTotal').textContent = `Total Odds: ${total.toFixed(2)}`;
            document.getElementById('oddsLeft').textContent = `Odd left to reach target: ${left.toFixed(2)}`;
            document.getElementById('oddsExpiry').textContent = ``;
        }

        function showFixtures() {
            showBookingCodeModal();
        }

        // --- BOOKING CODE POPUP (manual values) ---
        function showBookingCodeModal() {
            const modal = document.getElementById('bookingCodeModal');
            modal.style.display = 'flex';
            document.getElementById('bookingCodeInput').value = BOOKING_CODE;
            document.getElementById('bookingCodeTotalOdd').textContent = BOOKING_CODE_TOTAL_ODD;
        }
        function closeBookingCodeModal() {
            document.getElementById('bookingCodeModal').style.display = 'none';
            document.getElementById('bookingCopiedNote').style.display = 'none';
        }
        function copyBookingCode() {
            const input = document.getElementById('bookingCodeInput');
            input.select();
            input.setSelectionRange(0, 99999);
            document.execCommand('copy');
            document.getElementById('bookingCopiedNote').style.display = 'block';
            setTimeout(() => {
                document.getElementById('bookingCopiedNote').style.display = 'none';
            }, 1200);
        }

        document.addEventListener('DOMContentLoaded', function () {
            document.getElementById('passwordInput').addEventListener('keydown', function(e) {
                if (e.key === "Enter") unlockSite();
            });
            document.getElementById('closeBookingModal').onclick = closeBookingCodeModal;
            document.getElementById('copyBookingBtn').onclick = copyBookingCode;
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    if (document.getElementById('bookingCodeModal').style.display === 'flex') closeBookingCodeModal();
                }
            });
        });

        function showProfile() {
            document.getElementById('fixturesSection').style.display = 'none';
            document.getElementById('profileCardSection').style.display = 'block';
            window.scrollTo({ top: 0, behavior: 'smooth' });
            if (currentUser && !isExpired && !isOddExpired) {
                renderOddsSection(currentUser);
            }
        }
    </script>
</head>
<body>
    <div id="passwordPrompt">
        <div class="input-container">
            <img src="-5890865169557472356_109.jpg" alt="Logo" class="logo">
            <h2>Welcome to Empire Tips</h2>
            <h3>Please enter your PIN below to access the best soccer tips</h3>
            <div class="pin-input">
                <input type="password" id="passwordInput" maxlength="4" placeholder="••••" inputmode="numeric" pattern="[0-9]*">
            </div>
            <button onclick="unlockSite()" class="submit-button">Submit</button>
        </div>
    </div>

    <div id="profileCardSection" class="hidden" style="display:none;">
        <div class="profile-card" id="profileCard">
            <img src="-5890865169557472356_109.jpg" alt="Profile Avatar" class="profile-avatar" id="profileAvatar">
            <h2>Empire Member</h2>
            <div class="profile-details">
                <p><span class="profile-label">User ID:</span> <span class="profile-value" id="profileUserId"></span></p>
                <p><span class="profile-label">Subscription Plan:</span> <span class="profile-value" id="profilePlan"></span></p>
            </div>
            <span id="expiredProfileMsg" class="expired-label" style="display:none;">
                Your subscription has expired!<br>
                <a href="https://paystack.com/pay/azohnqhgu-" target="_blank" style="color:#ffb347;text-decoration:underline;">SUBSCRIBE NOW</a>
            </span>
        </div>
        <div id="noteBelowProfile" class="note-below-profile" style="display:none;">
            <span>Note: <b>View Prediction</b> below user's Profile</span>
        </div>
        <div id="oddsSection" class="odds-section" style="display:none;">
            <span class="note" id="oddsNote"></span>
            <div class="odds-list" id="oddsList"></div>
            <div class="odds-total" id="oddsTotal"></div>
            <div class="odds-progress" id="oddsLeft"></div>
            <div class="odds-expiry" id="oddsExpiry"></div>
            <span id="oddWarningMsg" class="warning-label" style="display:none;"></span>
        </div>
        <div style="text-align:center;">
            <button id="viewPredictionBtn" class="toggle-button" onclick="showFixtures()" style="display:none;">View Prediction</button>
        </div>
    </div>

    <!-- Booking Code Popup Modal - NEW LAYOUT -->
    <div id="bookingCodeModal">
        <div class="popup-content new-layout">
            <span class="close-booking-modal" id="closeBookingModal">&times;</span>
            <div class="bc-header">
                <img src="https://img.icons8.com/ios-filled/50/4f00bc/trophy.png" alt="Trophy" class="bc-icon" />
                <div>
                    <h2>Booking Code For the Day</h2>
                    <div class="bc-note">Copy this code and use it to book your ticket instantly.</div>
                </div>
            </div>
            <div class="bc-odd-row">
                <span class="bc-odd-label">Total odd:</span>
                <span class="bc-odd-value" id="bookingCodeTotalOdd">--</span>
            </div>
            <div class="bc-code-row">
                <input id="bookingCodeInput" class="booking-code-input" value="empirebot_30jun2025" readonly>
                <button id="copyBookingBtn" class="copy-booking-btn" title="Copy">
                    <img src="https://img.icons8.com/material-rounded/28/4f00bc/copy.png" alt="Copy">
                </button>
            </div>
            <div id="bookingCopiedNote" class="bc-copied-note">Copied!</div>
            <div class="sportybet-notice">
                <a 
                  href="https://www.sportybet.com/ng/"
                  target="_blank"
                  rel="noopener"
                >View on Sportybet</a>
            </div>
        </div>
    </div>
</body>
</html>
